from Generator import Generator
from WindTurbineBlade import WindTurbineBlade
from Rotor import Rotor

if __name__ == "__main__":
    # Crear las aspas
    blade1 = WindTurbineBlade(length=30)  # Longitud de 30 metros
    blades = [blade1, blade1, blade1]  # Tres aspas idénticas

    # Crear el rotor
    rotor = Rotor(blades)

    # Parámetros ambientales
    air_density = 1.225  # Densidad del aire (kg/m³)
    wind_speed = 3  # Velocidad del viento (m/s)
    rotor_efficiency = 0.4  # Eficiencia del rotor (40%)

    # Calcular energía mecánica generada por el rotor
    mechanical_energy = rotor.generated_energy(air_density, wind_speed, rotor_efficiency)

    # Crear el generador
    generator_efficiency = 1  # Eficiencia del generador (90%)
    generator = Generator(efficiency=generator_efficiency)

    # Convertir energía mecánica en eléctrica
    electrical_energy = generator.convert_energy(mechanical_energy)

    # Mostrar resultados
    print(rotor)
    print(f"Mechanical energy generated by the rotor: {mechanical_energy:.2f} W")
    print(f"Electrical energy generated by the generator: {electrical_energy:.2f} W")